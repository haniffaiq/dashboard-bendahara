(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{54250:function(e,t,a){Promise.resolve().then(a.bind(a,43754))},43754:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Q}});var s=a(57437),r=a(2265),i=a(93023),n=a(51908),l=a(66672),d=a(58094),o=a(86110),c=a(87516),u=a(25792),m=a(29155),x=a(32553),p=a(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,p.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),f=(0,p.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var g=a(71738),j=a(45367),y=a(15463),v=a(5123);function N(e){let{transactions:t,onEdit:a,onDelete:n,isLoading:l}=e,{user:d}=(0,y.k)(),[o,c]=(0,r.useState)("date"),[p,N]=(0,r.useState)("desc"),b=!!d&&(0,v.K)(d.role),k=e=>{e===o?N("asc"===p?"desc":"asc"):(c(e),N("desc"))},w=[...t].sort((e,t)=>(e[o],t[o],0)),T=e=>{let t=document.createElement("a");t.href=e.url,t.download=e.name,t.click()};return l?(0,s.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===t.length?(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)(h,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"Belum ada transaksi"})]}):(0,s.jsx)("div",{className:"border rounded-lg",children:(0,s.jsxs)(x.iA,{children:[(0,s.jsx)(x.xD,{children:(0,s.jsxs)(x.SC,{children:[(0,s.jsxs)(x.ss,{className:"cursor-pointer hover:bg-muted",onClick:()=>k("date"),children:["Tanggal ","date"===o&&("asc"===p?"↑":"↓")]}),(0,s.jsxs)(x.ss,{className:"cursor-pointer hover:bg-muted",onClick:()=>k("description"),children:["Deskripsi ","description"===o&&("asc"===p?"↑":"↓")]}),(0,s.jsxs)(x.ss,{className:"cursor-pointer hover:bg-muted",onClick:()=>k("category"),children:["Kategori ","category"===o&&("asc"===p?"↑":"↓")]}),(0,s.jsx)(x.ss,{children:"Tipe"}),(0,s.jsx)(x.ss,{className:"text-right",children:"Jumlah"}),(0,s.jsx)(x.ss,{children:"Lampiran"}),b&&(0,s.jsx)(x.ss,{children:"Aksi"})]})}),(0,s.jsx)(x.RM,{children:w.map(e=>(0,s.jsxs)(x.SC,{children:[(0,s.jsx)(x.pj,{className:"font-mono",children:(0,u.p6)(e.date)}),(0,s.jsx)(x.pj,{children:(0,s.jsx)("div",{className:"max-w-[200px] truncate",children:e.description})}),(0,s.jsx)(x.pj,{children:(0,s.jsx)(m.C,{variant:"outline",children:e.category})}),(0,s.jsx)(x.pj,{children:(0,s.jsx)(m.C,{variant:"MASUK"===e.type?"default":"destructive",children:e.type})}),(0,s.jsx)(x.pj,{className:"text-right font-mono",children:(0,s.jsxs)("span",{className:"MASUK"===e.type?"text-green-600":"text-red-600",children:["MASUK"===e.type?"+":"-",(0,u.xG)(e.amount)]})}),(0,s.jsx)(x.pj,{children:e.attachments.length>0?(0,s.jsx)("div",{className:"flex gap-1",children:e.attachments.map(t=>(0,s.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>T(t),children:[(0,s.jsx)(f,{className:"h-4 w-4 mr-1"}),1===e.attachments.length?"Download":e.attachments.indexOf(t)+1]},t.id))}):(0,s.jsx)("span",{className:"text-muted-foreground",children:"-"})}),b&&(0,s.jsx)(x.pj,{children:(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>null==a?void 0:a(e),children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})}),(0,s.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>null==n?void 0:n(e.id),children:(0,s.jsx)(j.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})}var b=a(61865),k=a(38110),w=a(74578),T=a(39311);let S=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,T.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});S.displayName="Textarea";var C=a(21935),R=a(12609);let A=async e=>{await new Promise(e=>setTimeout(e,1e3));let t=URL.createObjectURL(e);return{url:t}},D=async e=>{let{url:t}=await A(e);return{id:"attachment-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,9)),name:e.name,url:t,mimeType:e.type,size:e.size}},F=e=>["image/jpeg","image/jpg","image/png","application/pdf"].includes(e.type),z=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},_=(0,p.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),L=(0,p.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var M=a(82549),O=a(62621);let E=w.z.object({date:w.z.string().min(1,"Tanggal harus diisi"),description:w.z.string().min(1,"Deskripsi harus diisi"),category:w.z.string().min(1,"Kategori harus dipilih"),type:w.z.enum(["MASUK","KELUAR"]),amount:w.z.number().min(1,"Jumlah harus lebih dari 0")});function U(e){let{isOpen:t,onClose:a,onSubmit:o,transaction:c,categories:m}=e,{user:x}=(0,y.k)(),{toast:p}=(0,O.pm)(),[f,g]=(0,r.useState)((null==c?void 0:c.attachments)||[]),[j,v]=(0,r.useState)(!1),N=(0,b.cI)({resolver:(0,k.F)(E),defaultValues:{date:c?(0,u.L9)(c.date):(0,u.L9)(new Date().toISOString()),description:(null==c?void 0:c.description)||"",category:(null==c?void 0:c.category)||"",type:(null==c?void 0:c.type)||"KELUAR",amount:(null==c?void 0:c.amount)||0}}),w=(0,r.useCallback)(async e=>{if(e.length){v(!0);try{let t=Array.from(e).map(async e=>F(e)?e.size>5242880?(p({title:"File terlalu besar",description:"File ".concat(e.name," lebih dari 5MB."),variant:"destructive"}),null):await D(e):(p({title:"File tidak didukung",description:"File ".concat(e.name," tidak didukung. Hanya PDF dan gambar yang diperbolehkan."),variant:"destructive"}),null)),a=await Promise.all(t),s=a.filter(Boolean);g(e=>[...e,...s]),s.length>0&&p({title:"File berhasil diupload",description:"".concat(s.length," file berhasil ditambahkan.")})}catch(e){p({title:"Upload gagal",description:"Terjadi kesalahan saat mengupload file.",variant:"destructive"})}finally{v(!1)}}},[p]),T=e=>{g(t=>{let a=t.find(t=>t.id===e);return a&&a.url.startsWith("blob:")&&URL.revokeObjectURL(a.url),t.filter(t=>t.id!==e)})},A=async e=>{if(x)try{await o({...e,date:new Date(e.date).toISOString(),attachments:f,createdBy:x.id}),a(),N.reset(),g([]),p({title:c?"Transaksi diperbarui":"Transaksi ditambahkan",description:"Data transaksi berhasil disimpan."})}catch(e){p({title:"Terjadi kesalahan",description:"Gagal menyimpan transaksi.",variant:"destructive"})}};return(0,s.jsx)(R.Vq,{open:t,onOpenChange:a,children:(0,s.jsxs)(R.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)(R.fK,{children:(0,s.jsx)(R.$N,{children:c?"Edit Transaksi":"Tambah Transaksi"})}),(0,s.jsxs)("form",{onSubmit:N.handleSubmit(A),className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"date",children:"Tanggal"}),(0,s.jsx)(n.I,{id:"date",type:"date",...N.register("date")}),N.formState.errors.date&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:N.formState.errors.date.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"description",children:"Deskripsi"}),(0,s.jsx)(S,{id:"description",placeholder:"Masukkan deskripsi transaksi",...N.register("description")}),N.formState.errors.description&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:N.formState.errors.description.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"category",children:"Kategori"}),(0,s.jsxs)(d.Ph,{value:N.watch("category"),onValueChange:e=>N.setValue("category",e),children:[(0,s.jsx)(d.i4,{children:(0,s.jsx)(d.ki,{placeholder:"Pilih kategori"})}),(0,s.jsx)(d.Bw,{children:m.map(e=>(0,s.jsx)(d.Ql,{value:e,children:e},e))})]}),N.formState.errors.category&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:N.formState.errors.category.message})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(l._,{children:"Tipe Transaksi"}),(0,s.jsxs)(C.E,{value:N.watch("type"),onValueChange:e=>N.setValue("type",e),className:"flex gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(C.m,{value:"MASUK",id:"masuk"}),(0,s.jsx)(l._,{htmlFor:"masuk",children:"Pemasukan"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(C.m,{value:"KELUAR",id:"keluar"}),(0,s.jsx)(l._,{htmlFor:"keluar",children:"Pengeluaran"})]})]}),N.formState.errors.type&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:N.formState.errors.type.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"amount",children:"Jumlah (IDR)"}),(0,s.jsx)(n.I,{id:"amount",type:"number",min:"0",step:"1000",placeholder:"0",...N.register("amount",{valueAsNumber:!0})}),N.formState.errors.amount&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:N.formState.errors.amount.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{children:"Lampiran"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center cursor-pointer hover:border-muted-foreground/50 transition-colors",onClick:()=>{let e=document.createElement("input");e.type="file",e.multiple=!0,e.accept=".pdf,.png,.jpg,.jpeg",e.onchange=e=>{let t=e.target.files;t&&w(t)},e.click()},children:[(0,s.jsx)(_,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Klik untuk upload atau drag & drop"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"PDF, PNG, JPG (max 5MB)"})]}),f.length>0&&(0,s.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[e.mimeType.startsWith("image/")?(0,s.jsx)(L,{className:"h-4 w-4"}):(0,s.jsx)(h,{className:"h-4 w-4"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate max-w-[200px]",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:z(e.size)})]})]}),(0,s.jsx)(i.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(e.id),children:(0,s.jsx)(M.Z,{className:"h-4 w-4"})})]},e.id))}),j&&(0,s.jsxs)("div",{className:"flex items-center justify-center py-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Uploading..."})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,s.jsx)(i.z,{type:"button",variant:"outline",onClick:a,children:"Batal"}),(0,s.jsx)(i.z,{type:"submit",disabled:N.formState.isSubmitting||j,children:N.formState.isSubmitting?"Menyimpan...":"Simpan"})]})]})]})})}var K=a(50239),I=a(74828),V=a(59115),Z=a(61625);let B={},P=(0,V.U)((e,t)=>({transactions:[],isLoading:!1,filters:B,fetchTransactions:async()=>{e({isLoading:!0});try{let a=t().filters,s=await Z.s.list({...a,limit:100,offset:0});e({transactions:s,isLoading:!1})}catch(t){console.error("❌ fetchTransactions error:",t),e({isLoading:!1})}},setFilters:a=>{e({filters:a}),t().fetchTransactions()},createTransaction:async a=>{try{let s=await Z.s.create(a);return e({transactions:[s,...t().transactions]}),s}catch(e){throw console.error("❌ createTransaction error:",e),e}},updateTransaction:async(a,s)=>{try{let r=await Z.s.update(a,s),i=t().transactions.map(e=>e.id===a?r:e);return e({transactions:i}),r}catch(e){throw console.error("❌ updateTransaction error:",e),e}},deleteTransaction:async a=>{try{await Z.s.delete(a);let s=t().transactions.filter(e=>e.id!==a);e({transactions:s})}catch(e){throw console.error("❌ deleteTransaction error:",e),e}},resetFilters:()=>{e({filters:B}),t().fetchTransactions()}}));var H=a(94944);let Y=e=>{let t=e.map(e=>[(0,u.p6)(e.date),e.description,e.category,e.type,e.amount.toString(),e.attachments.length>0?"Ya":"Tidak",e.createdBy,(0,u.p6)(e.createdAt)]),a=[["Tanggal","Deskripsi","Kategori","Tipe","Jumlah (IDR)","Lampiran","Dibuat Oleh","Tanggal Dibuat"],...t].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n");return a},q=(e,t)=>{let a=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(void 0!==s.download){let e=URL.createObjectURL(a);s.setAttribute("href",e),s.setAttribute("download",t),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(e)}},G=(e,t)=>{let a=e.filter(e=>(null==t||!t.dateFrom||!(e.date<t.dateFrom))&&(null==t||!t.dateTo||!(e.date>t.dateTo))&&(null==t||!t.category||e.category===t.category)),s=Y(a),r="transaksi-".concat(new Date().toISOString().split("T")[0],".csv");q(s,r)};var $=a(9883);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let J=(0,p.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function Q(){var e,t,a,u;let{user:m}=(0,y.k)(),{transactions:x,isLoading:p,filters:h,fetchTransactions:g,setFilters:j,createTransaction:b,updateTransaction:k,deleteTransaction:w,resetFilters:T}=P(),{toast:S}=(0,O.pm)(),[C,R]=(0,r.useState)([]),[A,D]=(0,r.useState)(!1),[F,z]=(0,r.useState)(),[_,L]=(0,r.useState)(null),[E,V]=(0,r.useState)(""),[Z,B]=(0,r.useState)({dateFrom:void 0,dateTo:void 0,category:void 0,type:void 0,search:void 0}),Y=!!m&&(0,v.Zt)(m.role),q=!!m&&(0,v.qK)(m.role);(0,r.useEffect)(()=>{g(),Q()},[]);let Q=async()=>{try{let e=await H.sz.getCategories(),t=Array.from(new Set(["Gaji","Operasional","Marketing","Donasi","Jasa","Lainnya",...e.filter(Boolean)]));R(t)}catch(e){console.error("Failed to load categories:",e)}},W=()=>{let e={...Z,search:E.trim()?E.trim():void 0};B(e),j(e)},X=(e,t)=>{let a={...Z,[e]:"ALL"===t||""===t||null===t?void 0:t};B(a),j(a)},ee=async e=>{await b(e),D(!1)},et=async e=>{F&&(await k(F.id,e),z(void 0),D(!1))},ea=async()=>{if(_)try{await w(_),L(null),S({title:"Transaksi dihapus",description:"Data transaksi berhasil dihapus."})}catch(e){S({title:"Terjadi kesalahan",description:"Gagal menghapus transaksi.",variant:"destructive"})}};return(0,s.jsx)(K.i,{children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(I.Y,{}),(0,s.jsx)("div",{className:"mx-auto w-full max-w-screen-xl px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-y-3 gap-x-6 flex-wrap",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Keuangan"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Kelola transaksi pemasukan dan pengeluaran"})]}),(0,s.jsxs)("div",{className:"flex gap-6",children:[q&&(0,s.jsxs)(i.z,{variant:"outline",onClick:()=>{G(x,h),S({title:"Data berhasil diexport",description:"File CSV telah diunduh."})},children:[(0,s.jsx)(f,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),Y&&(0,s.jsxs)(i.z,{onClick:()=>D(!0),children:[(0,s.jsx)($.Z,{className:"h-4 w-4 mr-2"}),"Tambah Transaksi"]})]})]}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsxs)(o.Ol,{children:[(0,s.jsx)(o.ll,{className:"text-lg",children:"Filter & Pencarian"}),(0,s.jsx)(o.SZ,{children:"Filter transaksi berdasarkan tanggal, kategori, atau tipe"})]}),(0,s.jsx)(o.aY,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)(l._,{htmlFor:"search",children:"Cari"}),(0,s.jsxs)("div",{className:"flex gap-6 mt-1",children:[(0,s.jsx)(n.I,{id:"search",placeholder:"Cari deskripsi atau kategori...",value:E,onChange:e=>V(e.target.value),onKeyDown:e=>"Enter"===e.key&&W()}),(0,s.jsx)(i.z,{variant:"outline",size:"icon",onClick:W,children:(0,s.jsx)(J,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l._,{htmlFor:"dateFrom",children:"Dari Tanggal"}),(0,s.jsx)(n.I,{id:"dateFrom",type:"date",value:null!==(e=Z.dateFrom)&&void 0!==e?e:"",onChange:e=>X("dateFrom",e.target.value),className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l._,{htmlFor:"dateTo",children:"Sampai Tanggal"}),(0,s.jsx)(n.I,{id:"dateTo",type:"date",value:null!==(t=Z.dateTo)&&void 0!==t?t:"",onChange:e=>X("dateTo",e.target.value),className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l._,{htmlFor:"category",children:"Kategori"}),(0,s.jsxs)(d.Ph,{value:null!==(a=Z.category)&&void 0!==a?a:void 0,onValueChange:e=>X("category",e),children:[(0,s.jsx)(d.i4,{className:"mt-1",children:(0,s.jsx)(d.ki,{placeholder:"Semua kategori"})}),(0,s.jsxs)(d.Bw,{children:[(0,s.jsx)(d.Ql,{value:"ALL",children:"Semua kategori"}),C.map(e=>(0,s.jsx)(d.Ql,{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l._,{htmlFor:"type",children:"Tipe"}),(0,s.jsxs)(d.Ph,{value:null!==(u=Z.type)&&void 0!==u?u:void 0,onValueChange:e=>X("type","ALL"===e?void 0:e),children:[(0,s.jsx)(d.i4,{className:"mt-1",children:(0,s.jsx)(d.ki,{placeholder:"Semua tipe"})}),(0,s.jsxs)(d.Bw,{children:[(0,s.jsx)(d.Ql,{value:"ALL",children:"Semua tipe"}),(0,s.jsx)(d.Ql,{value:"MASUK",children:"Pemasukan"}),(0,s.jsx)(d.Ql,{value:"KELUAR",children:"Pengeluaran"})]})]})]}),(0,s.jsx)("div",{className:"md:col-span-5 flex justify-end",children:(0,s.jsxs)(i.z,{variant:"outline",onClick:()=>{B({dateFrom:void 0,dateTo:void 0,category:void 0,type:void 0,search:void 0}),V(""),T()},children:[(0,s.jsx)(M.Z,{className:"h-4 w-4 mr-2"}),"Reset Filter"]})})]})})]}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsxs)(o.Ol,{children:[(0,s.jsx)(o.ll,{children:"Daftar Transaksi"}),(0,s.jsxs)(o.SZ,{children:[" Total: ",x.length," transaksi "]})]}),(0,s.jsx)(o.aY,{children:(0,s.jsx)(N,{transactions:x,onEdit:Y?e=>{z(e),D(!0)}:void 0,onDelete:Y?e=>L(e):void 0,isLoading:p})})]}),Y&&(0,s.jsx)(U,{isOpen:A,onClose:()=>{D(!1),z(void 0)},onSubmit:F?et:ee,transaction:F,categories:C}),(0,s.jsx)(c.aR,{open:!!_,onOpenChange:()=>L(null),children:(0,s.jsxs)(c._T,{children:[(0,s.jsxs)(c.fY,{children:[(0,s.jsx)(c.f$,{children:"Hapus Transaksi"}),(0,s.jsx)(c.yT,{children:"Apakah Anda yakin ingin menghapus transaksi ini? Tindakan ini tidak dapat dibatalkan."})]}),(0,s.jsxs)(c.xo,{children:[(0,s.jsx)(c.le,{children:"Batal"}),(0,s.jsx)(c.OL,{onClick:ea,children:"Hapus"})]})]})})]})})]})})}},87516:function(e,t,a){"use strict";a.d(t,{OL:function(){return f},_T:function(){return u},aR:function(){return d},f$:function(){return p},fY:function(){return m},le:function(){return g},xo:function(){return x},yT:function(){return h}});var s=a(57437),r=a(2265),i=a(52506),n=a(39311),l=a(93023);let d=i.fC;i.xz;let o=i.h_,c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});c.displayName=i.aV.displayName;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsx)(i.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-2 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});u.displayName=i.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};m.displayName="AlertDialogHeader";let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="AlertDialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold",a),...r})});p.displayName=i.Dx.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});h.displayName=i.dk.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.aU,{ref:t,className:(0,n.cn)((0,l.d)(),a),...r})});f.displayName=i.aU.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.$j,{ref:t,className:(0,n.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});g.displayName=i.$j.displayName},29155:function(e,t,a){"use strict";a.d(t,{C:function(){return l}});var s=a(57437);a(2265);var r=a(39213),i=a(39311);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)(n({variant:a}),t),...r})}},12609:function(e,t,a){"use strict";a.d(t,{$N:function(){return x},Vq:function(){return d},cZ:function(){return u},fK:function(){return m}});var s=a(57437),r=a(2265),i=a(28712),n=a(82549),l=a(39311);let d=i.fC;i.xz;let o=i.h_;i.x8;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});c.displayName=i.aV.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(i.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-2 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,s.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=i.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});x.displayName=i.Dx.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});p.displayName=i.dk.displayName},21935:function(e,t,a){"use strict";a.d(t,{E:function(){return d},m:function(){return o}});var s=a(57437),r=a(2265),i=a(94473),n=a(76369),l=a(39311);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.fC,{className:(0,l.cn)("grid gap-6",a),...r,ref:t})});d.displayName=i.fC.displayName;let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.ck,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,s.jsx)(i.z$,{className:"flex items-center justify-center",children:(0,s.jsx)(n.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=i.ck.displayName},32553:function(e,t,a){"use strict";a.d(t,{RM:function(){return d},SC:function(){return c},iA:function(){return n},pj:function(){return m},ss:function(){return u},xD:function(){return l}});var s=a(57437),r=a(2265),i=a(39311);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",a),...r})})});n.displayName="Table";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",a),...r})});l.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...r})});d.displayName="TableBody";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})});o.displayName="TableFooter";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});c.displayName="TableRow";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});u.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});m.displayName="TableCell";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...r})});x.displayName="TableCaption"},62621:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var s=a(2265);let r=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=l(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[237,724,232,329,769,317,684,59,65,971,864,744],function(){return e(e.s=54250)}),_N_E=e.O()}]);