(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{93887:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]])},41298:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},65883:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},68004:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},67972:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},25750:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},82549:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},53918:function(e,t,s){Promise.resolve().then(s.bind(s,99121))},99121:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(57437),n=s(2265),a=s(61865),i=s(38110),l=s(74578),c=s(50239),o=s(74828),d=s(15463),u=s(62621);let f=l.z.object({currentPassword:l.z.string().min(1,"Password saat ini harus diisi"),newPassword:l.z.string().min(6,"Password baru minimal 6 karakter"),confirmPassword:l.z.string()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Password baru tidak cocok",path:["confirmPassword"]});function h(){let{user:e}=(0,d.k)(),{toast:t}=(0,u.pm)(),[s,l]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),[E,x]=(0,n.useState)(!1),[A,T]=(0,n.useState)(!1),[p,y]=(0,n.useState)("");return((0,a.cI)({resolver:(0,i.F)(f),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),e)?(0,r.jsx)(c.i,{children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(o.Y,{}),(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Profile"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Kelola informasi akun Anda"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Masih Dalam Pengembanngan"})})]})})]})}):null}},50239:function(e,t,s){"use strict";s.d(t,{i:function(){return l}});var r=s(57437),n=s(2265),a=s(24033),i=s(15463);function l(e){let{children:t,allowedRoles:s,fallback:l}=e,c=(0,a.useRouter)(),{user:o,isAuthenticated:d,isLoading:u}=(0,i.k)();return((0,n.useEffect)(()=>{if(!u&&!d){c.push("/login");return}if(!u&&o&&s&&!s.includes(o.role)){c.push("/");return}},[d,o,u,c,s]),u)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d?s&&o&&!s.includes(o.role)?l||(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."})]})}):(0,r.jsx)(r.Fragment,{children:t}):null}},74828:function(e,t,s){"use strict";s.d(t,{Y:function(){return y}});var r=s(57437),n=s(61396),a=s.n(n),i=s(24033),l=s(93023),c=s(15463),o=s(5123),d=s(93887),u=s(41298),f=s(25750),h=s(67972),m=s(82549),E=s(68004),x=s(65883),A=s(2265),T=s(39311);let p={BarChart3:d.Z,DollarSign:u.Z,Users:f.Z,User:h.Z};function y(){let e=(0,i.usePathname)(),t=(0,i.useRouter)(),{user:s,logout:n,isAuthenticated:u}=(0,c.k)(),[f,y]=(0,A.useState)(!1);if(!u||!s)return null;let N=(0,o.nN)(s.role);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.z,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden",onClick:()=>y(!f),children:f?(0,r.jsx)(m.Z,{className:"h-5 w-5"}):(0,r.jsx)(E.Z,{className:"h-5 w-5"})}),(0,r.jsx)("div",{className:(0,T.cn)("fixed left-0 top-0 z-40 h-full w-64 bg-white border-r shadow-lg transition-transform duration-300 ease-in-out","md:translate-x-0 md:static md:z-0",f?"translate-x-0":"-translate-x-full"),children:(0,r.jsxs)("div",{className:"flex h-full flex-col",children:[(0,r.jsx)("div",{className:"border-b p-4 bg-gray-50/50",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"h-8 w-8 bg-primary rounded-md flex items-center justify-center",children:(0,r.jsx)(d.Z,{className:"h-5 w-5 text-primary-foreground"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"Internal Dashboard"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:s.role})]})]})}),(0,r.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:N.map(t=>{let s=p[t.icon],n=e===t.href;return(0,r.jsxs)(a(),{href:t.href,onClick:()=>y(!1),className:(0,T.cn)("flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200",n?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-gray-100"),children:[(0,r.jsx)(s,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:t.label})]},t.href)})}),(0,r.jsxs)("div",{className:"border-t p-4 bg-gray-50/50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("div",{className:"h-10 w-10 bg-primary/10 rounded-full flex items-center justify-center",children:(0,r.jsx)(h.Z,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium truncate",children:s.name}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:s.email})]})]}),(0,r.jsxs)(l.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{n(),t.push("/login")},children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),f&&(0,r.jsx)("div",{className:"fixed inset-0 z-30 bg-black/50 md:hidden",onClick:()=>y(!1)})]})}},62621:function(e,t,s){"use strict";s.d(t,{pm:function(){return f}});var r=s(2265);let n=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=l(o,e),c.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,t]=r.useState(o);return r.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},5123:function(e,t,s){"use strict";s.d(t,{K:function(){return i},Zt:function(){return a},cW:function(){return l},mA:function(){return c},nN:function(){return d},qK:function(){return o}}),s(2265);let r={admin:{TRANSACTION:["CREATE","READ","UPDATE","DELETE"],MEMBER:["CREATE","READ","UPDATE","DELETE"],CHART:["CREATE","READ","UPDATE","DELETE"],EXPORT:["CREATE","READ","UPDATE","DELETE"]},finance:{TRANSACTION:["CREATE","READ","UPDATE","DELETE"],MEMBER:["READ"],CHART:["READ"],EXPORT:["CREATE","READ"]},writer:{TRANSACTION:["READ"],MEMBER:["CREATE","READ","UPDATE","DELETE"],CHART:["READ"],EXPORT:["READ"]},user:{TRANSACTION:["READ"],MEMBER:["READ"],CHART:["READ"],EXPORT:[]}},n=(e,t,s)=>{let n=r[e];if(!n)return!1;let a=n[s];return!!Array.isArray(a)&&a.includes(t)},a=e=>n(e,"CREATE","TRANSACTION"),i=e=>n(e,"UPDATE","TRANSACTION")&&n(e,"DELETE","TRANSACTION"),l=e=>n(e,"CREATE","MEMBER"),c=e=>n(e,"UPDATE","MEMBER")&&n(e,"DELETE","MEMBER"),o=e=>n(e,"CREATE","EXPORT"),d=e=>[{href:"/",label:"Dashboard",icon:"BarChart3"},{href:"/keuangan",label:"Keuangan",icon:"DollarSign"},{href:"/user",label:"user",icon:"Users"},{href:"/profile",label:"Profile",icon:"User"}]}},function(e){e.O(0,[237,724,232,329,59,971,864,744],function(){return e(e.s=53918)}),_N_E=e.O()}]);