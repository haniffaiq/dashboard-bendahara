"use strict";exports.id=40,exports.ids=[40],exports.modules={74387:(e,s,r)=>{r.d(s,{i:()=>i});var l=r(60080),a=r(9885),n=r(57114),t=r(57620);function i({children:e,allowedRoles:s,fallback:r}){let i=(0,n.useRouter)(),{user:c,isAuthenticated:d,isLoading:E}=(0,t.k)();return((0,a.useEffect)(()=>{if(!E&&!d){i.push("/login");return}if(!E&&c&&s&&!s.includes(c.role)){i.push("/");return}},[d,c,E,i,s]),E)?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d?s&&c&&!s.includes(c.role)?r||l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."})]})}):l.jsx(l.Fragment,{children:e}):null}},33411:(e,s,r)=>{r.d(s,{Y:()=>N});var l=r(60080),a=r(11440),n=r.n(a),t=r(57114),i=r(68384),c=r(57620),d=r(25306),E=r(70518),m=r(66908),o=r(91672),x=r(93680),h=r(56206),u=r(7382),f=r(90092),A=r(9885),R=r(23161);let T={BarChart3:E.Z,DollarSign:m.Z,Users:o.Z,User:x.Z};function N(){let e=(0,t.usePathname)(),s=(0,t.useRouter)(),{user:r,logout:a,isAuthenticated:m}=(0,c.k)(),[o,N]=(0,A.useState)(!1);if(!m||!r)return null;let j=(0,d.nN)(r.role);return(0,l.jsxs)(l.Fragment,{children:[l.jsx(i.z,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden",onClick:()=>N(!o),children:o?l.jsx(h.Z,{className:"h-5 w-5"}):l.jsx(u.Z,{className:"h-5 w-5"})}),l.jsx("div",{className:(0,R.cn)("fixed left-0 top-0 z-40 h-full w-64 bg-white border-r shadow-lg transition-transform duration-300 ease-in-out","md:translate-x-0 md:static md:z-0",o?"translate-x-0":"-translate-x-full"),children:(0,l.jsxs)("div",{className:"flex h-full flex-col",children:[l.jsx("div",{className:"border-b p-4 bg-gray-50/50",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 bg-primary rounded-md flex items-center justify-center",children:l.jsx(E.Z,{className:"h-5 w-5 text-primary-foreground"})}),(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-lg font-semibold",children:"Internal Dashboard"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:r.role})]})]})}),l.jsx("nav",{className:"flex-1 p-4 space-y-2",children:j.map(s=>{let r=T[s.icon],a=e===s.href;return(0,l.jsxs)(n(),{href:s.href,onClick:()=>N(!1),className:(0,R.cn)("flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200",a?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-gray-100"),children:[l.jsx(r,{className:"h-5 w-5"}),l.jsx("span",{children:s.label})]},s.href)})}),(0,l.jsxs)("div",{className:"border-t p-4 bg-gray-50/50",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-full flex items-center justify-center",children:l.jsx(x.Z,{className:"h-5 w-5"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:r.name}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.email})]})]}),(0,l.jsxs)(i.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{a(),s.push("/login")},children:[l.jsx(f.Z,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),o&&l.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 md:hidden",onClick:()=>N(!1)})]})}},25306:(e,s,r)=>{r.d(s,{K:()=>t,Zt:()=>n,cW:()=>i,mA:()=>c,nN:()=>E,qK:()=>d}),r(9885);let l={admin:{TRANSACTION:["CREATE","READ","UPDATE","DELETE"],MEMBER:["CREATE","READ","UPDATE","DELETE"],CHART:["CREATE","READ","UPDATE","DELETE"],EXPORT:["CREATE","READ","UPDATE","DELETE"]},finance:{TRANSACTION:["CREATE","READ","UPDATE","DELETE"],MEMBER:["READ"],CHART:["READ"],EXPORT:["CREATE","READ"]},writer:{TRANSACTION:["READ"],MEMBER:["CREATE","READ","UPDATE","DELETE"],CHART:["READ"],EXPORT:["READ"]},user:{TRANSACTION:["READ"],MEMBER:["READ"],CHART:["READ"],EXPORT:[]}},a=(e,s,r)=>{let a=l[e];if(!a)return!1;let n=a[r];return!!Array.isArray(n)&&n.includes(s)},n=e=>a(e,"CREATE","TRANSACTION"),t=e=>a(e,"UPDATE","TRANSACTION")&&a(e,"DELETE","TRANSACTION"),i=e=>a(e,"CREATE","MEMBER"),c=e=>a(e,"UPDATE","MEMBER")&&a(e,"DELETE","MEMBER"),d=e=>a(e,"CREATE","EXPORT"),E=e=>[{href:"/",label:"Dashboard",icon:"BarChart3"},{href:"/keuangan",label:"Keuangan",icon:"DollarSign"},{href:"/user",label:"user",icon:"Users"},{href:"/profile",label:"Profile",icon:"User"}]}};