(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},81053:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>x,routeModule:()=>u,tree:()=>c});var a=s(73137),l=s(54647),r=s(4183),n=s.n(r),i=s(71775),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=a.AppPageRouteModule,c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,54165)),"/Users/hanif/Desktop/Project/Portofolio/Dashboard/finance-dashboard/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,68066)),"/Users/hanif/Desktop/Project/Portofolio/Dashboard/finance-dashboard/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,11386)),"/Users/hanif/Desktop/Project/Portofolio/Dashboard/finance-dashboard/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,53586)),"/Users/hanif/Desktop/Project/Portofolio/Dashboard/finance-dashboard/app/not-found.tsx"]}],x=["/Users/hanif/Desktop/Project/Portofolio/Dashboard/finance-dashboard/app/page.tsx"],h="/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new d({definition:{kind:l.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},84235:(e,t,s)=>{Promise.resolve().then(s.bind(s,78843))},78843:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>B});var a=s(60080),l=s(9885),r=s(97052),n=s(68384),i=s(49424),o=s(33478),d=s(70589),c=s(79937),x=s(37049),h=s(63647),m=s(34707),u=s(24300),j=s(35522),p=s(14839),f=s(54206),g=s(97106);function b({data:e}){let t=e=>{let[t,s]=e.split("-");return`${["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"][parseInt(s)-1]} ${t}`};return a.jsx("div",{className:"w-full h-[400px]",children:a.jsx(h.h,{width:"100%",height:"100%",children:(0,a.jsxs)(m.w,{data:e,margin:{top:20,right:30,left:20,bottom:20},children:[a.jsx(u.q,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),a.jsx(j.K,{dataKey:"month",tickFormatter:t,fontSize:12,stroke:"#64748b"}),a.jsx(p.B,{tickFormatter:e=>(0,x.xG)(e),fontSize:12,stroke:"#64748b"}),a.jsx(f.u,{content:a.jsx(({active:e,payload:s,label:l})=>{if(e&&s&&s.length){let e=s[0].value;return(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-3 shadow-md",children:[a.jsx("p",{className:"font-medium",children:t(l)}),(0,a.jsxs)("p",{className:`font-semibold ${e>=0?"text-green-600":"text-red-600"}`,children:["Saldo: ",(0,x.xG)(e)]})]})}return null},{})}),a.jsx(g.x,{type:"monotone",dataKey:"balance",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:2,r:5},activeDot:{r:7,stroke:"#10b981",strokeWidth:2,fill:"#ffffff"}})]})})})}var y=s(34482),v=s(83053),N=s(98741);function k({data:e}){let t=e=>{let[t,s]=e.split("-");return`${["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"][parseInt(s)-1]} ${t}`};return a.jsx("div",{className:"w-full h-[300px]",children:a.jsx(h.h,{width:"100%",height:"100%",children:(0,a.jsxs)(y.v,{data:e,margin:{top:20,right:30,left:20,bottom:20},children:[a.jsx(u.q,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),a.jsx(j.K,{dataKey:"month",tickFormatter:t,fontSize:12,stroke:"#64748b"}),a.jsx(p.B,{tickFormatter:e=>(0,x.xG)(e),fontSize:12,stroke:"#64748b"}),a.jsx(f.u,{content:a.jsx(({active:e,payload:s,label:l})=>e&&s&&s.length?(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-3 shadow-md",children:[a.jsx("p",{className:"font-medium",children:t(l)}),s.map((e,t)=>(0,a.jsxs)("p",{style:{color:e.color},children:["income"===e.dataKey?"Pemasukan":"Pengeluaran",": ",(0,x.xG)(e.value)]},t))]}):null,{})}),a.jsx(v.D,{formatter:e=>"income"===e?"Pemasukan":"Pengeluaran",wrapperStyle:{paddingTop:"20px"}}),a.jsx(N.$,{dataKey:"income",fill:"#10b981",name:"income",radius:[4,4,0,0]}),a.jsx(N.$,{dataKey:"expense",fill:"#ef4444",name:"expense",radius:[4,4,0,0]})]})})})}var w=s(16324),D=s(44723),F=s(8081);let P=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#FF7C7C","#8DD1E1","#D084D0"];function S({data:e}){let t=e.reduce((e,t)=>e+t.amount,0),s=e.map(e=>({...e,total:t,percentage:(e.amount/t*100).toFixed(1)}));return a.jsx("div",{className:"w-full h-[350px]",children:a.jsx(h.h,{width:"100%",height:"100%",children:(0,a.jsxs)(w.u,{children:[a.jsx(D.b,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({cx:e,cy:t,midAngle:s,innerRadius:l,outerRadius:r,percent:n})=>{if(n<.05)return null;let i=Math.PI/180,o=l+(r-l)*.5,d=e+o*Math.cos(-s*i);return a.jsx("text",{x:d,y:t+o*Math.sin(-s*i),fill:"white",textAnchor:d>e?"start":"end",dominantBaseline:"central",fontSize:"12",fontWeight:"bold",children:`${(100*n).toFixed(0)}%`})},outerRadius:120,fill:"#8884d8",dataKey:"amount",children:s.map((e,t)=>a.jsx(F.b,{fill:P[t%P.length]},`cell-${t}`))}),a.jsx(f.u,{content:a.jsx(({active:e,payload:t})=>{if(e&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-3 shadow-md",children:[a.jsx("p",{className:"font-medium",children:e.category}),a.jsx("p",{className:"text-primary",children:(0,x.xG)(e.amount)}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(e.amount/e.total*100).toFixed(1),"%"]})]})}return null},{})}),a.jsx(v.D,{verticalAlign:"bottom",height:36,formatter:(e,t)=>(0,a.jsxs)("span",{style:{color:t.color},children:[e," (",t.payload.percentage,"%)"]})})]})})})}let C=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#FF7C7C","#8DD1E1","#D084D0"];function G({data:e}){let t=e.reduce((e,t)=>e+t.amount,0),s=e.map(e=>({...e,total:t,percentage:(e.amount/t*100).toFixed(1)}));return(0,a.jsxs)("div",{className:"w-full h-[350px]",children:[a.jsx(h.h,{width:"100%",height:"100%",children:(0,a.jsxs)(w.u,{children:[a.jsx(D.b,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({cx:e,cy:t,midAngle:s,innerRadius:l,outerRadius:r,percent:n})=>{if(n<.05)return null;let i=Math.PI/180,o=l+(r-l)*.5,d=e+o*Math.cos(-s*i);return a.jsx("text",{x:d,y:t+o*Math.sin(-s*i),fill:"white",textAnchor:d>e?"start":"end",dominantBaseline:"central",fontSize:"12",fontWeight:"bold",children:`${(100*n).toFixed(0)}%`})},outerRadius:120,innerRadius:60,fill:"#8884d8",dataKey:"amount",children:s.map((e,t)=>a.jsx(F.b,{fill:C[t%C.length]},`cell-${t}`))}),a.jsx(f.u,{content:a.jsx(({active:e,payload:t})=>{if(e&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-3 shadow-md",children:[a.jsx("p",{className:"font-medium",children:e.category}),a.jsx("p",{className:"text-primary",children:(0,x.xG)(e.amount)}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(e.amount/e.total*100).toFixed(1),"%"]})]})}return null},{})}),a.jsx(v.D,{verticalAlign:"bottom",height:36,formatter:(e,t)=>(0,a.jsxs)("span",{style:{color:t.color},children:[e," (",t.payload.percentage,"%)"]})})]})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),a.jsx("div",{className:"text-lg font-bold",children:(0,x.xG)(t)})]})})]})}var O=s(84753),M=s(16692);function _({data:e}){let t=e=>{let[t,s]=e.split("-");return`${["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"][parseInt(s)-1]} ${t}`},s=e.some(e=>e.balance<0);return a.jsx("div",{className:"w-full h-[300px]",children:a.jsx(h.h,{width:"100%",height:"100%",children:(0,a.jsxs)(O.T,{data:e,margin:{top:10,right:30,left:20,bottom:5},children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"balanceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),a.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]}),(0,a.jsxs)("linearGradient",{id:"negativeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),a.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]})]}),a.jsx(u.q,{strokeDasharray:"3 3"}),a.jsx(j.K,{dataKey:"month",tickFormatter:t,fontSize:12}),a.jsx(p.B,{tickFormatter:e=>(0,x.xG)(e),fontSize:12}),a.jsx(f.u,{content:a.jsx(({active:e,payload:s,label:l})=>{if(e&&s&&s.length){let e=s[0].value;return(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-3 shadow-md",children:[a.jsx("p",{className:"font-medium",children:t(l)}),(0,a.jsxs)("p",{className:`font-semibold ${e>=0?"text-green-600":"text-red-600"}`,children:["Saldo: ",(0,x.xG)(e)]})]})}return null},{})}),a.jsx(M.u,{type:"monotone",dataKey:"balance",stroke:"#10b981",strokeWidth:3,fill:"url(#balanceGradient)",dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2}}),s&&a.jsx(g.x,{type:"monotone",dataKey:()=>0,stroke:"#64748b",strokeDasharray:"5 5",dot:!1})]})})})}var A=s(74387),K=s(33411),$=s(20644),T=s(12029),Z=s(50007),z=s(71817),Y=s(66908),q=s(70518);function B(){let[e,t]=(0,l.useState)(null),[s,h]=(0,l.useState)(null),[m,u]=(0,l.useState)(!0),[j,p]=(0,l.useState)(!1),[f,g]=(0,l.useState)(""),[y,v]=(0,l.useState)(""),[N,w]=(0,l.useState)([]),[D,F]=(0,l.useState)(void 0);(0,l.useEffect)(()=>{let e=new Date,t=new Date(e.getFullYear()-1,e.getMonth(),1);g(t.toISOString().split("T")[0]),v(e.toISOString().split("T")[0])},[]),(0,l.useEffect)(()=>{f&&(P(),C())},[f,y,D]);let P=async()=>{try{e?p(!0):u(!0);let[s,a]=await Promise.all([c.sz.getSummary(f,y),c.sz.getChartData(f,y)]);t(s),h(a)}catch(e){console.error("Failed to load dashboard data:",e)}finally{u(!1),p(!1)}},C=async()=>{try{let e=await c.sz.getCategories();w(e.filter(Boolean))}catch(e){console.error("Failed to load categories:",e)}};return m?a.jsx(A.i,{children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx(K.Y,{}),a.jsx("div",{className:"flex-1 min-h-screen bg-gray-50/50",children:a.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Memuat data dashboard..."})]})})})})]})}):a.jsx(A.i,{children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx(K.Y,{}),a.jsx("div",{className:"mx-auto w-full max-w-screen-xl px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Ringkasan keuangan dan statistik organisasi"})]}),(0,a.jsxs)(n.z,{onClick:()=>{P()},disabled:j,variant:"outline",size:"sm",children:[a.jsx($.Z,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),j?"Memuat...":"Refresh"]})]}),(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"text-lg flex items-center gap-2",children:[a.jsx(T.Z,{className:"h-5 w-5"}),"Filter Data"]})}),a.jsx(r.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[(0,a.jsxs)("div",{children:[a.jsx(o._,{htmlFor:"dateFrom",children:"Tanggal Mulai"}),a.jsx(i.I,{id:"dateFrom",type:"date",value:f,onChange:e=>g(e.target.value),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[a.jsx(o._,{htmlFor:"dateTo",children:"Tanggal Akhir"}),a.jsx(i.I,{id:"dateTo",type:"date",value:y,onChange:e=>v(e.target.value),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[a.jsx(o._,{htmlFor:"category",children:"Kategori"}),(0,a.jsxs)(d.Ph,{value:D,onValueChange:e=>{"ALL"===e?F(void 0):F(e)},children:[a.jsx(d.i4,{className:"mt-1",children:a.jsx(d.ki,{placeholder:"Semua kategori"})}),(0,a.jsxs)(d.Bw,{children:[a.jsx(d.Ql,{value:"ALL",children:"Semua kategori"}),N.map(e=>a.jsx(d.Ql,{value:e,children:e},e))]})]})]}),a.jsx("div",{children:a.jsx(n.z,{variant:"outline",onClick:()=>{F(void 0);let e=new Date,t=new Date(e.getFullYear()-1,e.getMonth(),1);g(t.toISOString().split("T")[0]),v(e.toISOString().split("T")[0])},className:"w-full",children:"Reset Filter"})})]})})]}),e&&(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium",children:"Total Pemasukan"}),a.jsx(Z.Z,{className:"h-4 w-4 text-green-600"})]}),a.jsx(r.aY,{children:a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:(0,x.xG)(e.totalIncome)})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium",children:"Total Pengeluaran"}),a.jsx(z.Z,{className:"h-4 w-4 text-red-600"})]}),a.jsx(r.aY,{children:a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-600",children:(0,x.xG)(e.totalExpense)})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium",children:"Saldo"}),a.jsx(Y.Z,{className:"h-4 w-4 text-primary"})]}),a.jsx(r.aY,{children:a.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e.balance>=0?"text-green-600":"text-red-600"}`,children:(0,x.xG)(e.balance)})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(r.ll,{className:"text-sm font-medium",children:"Total Transaksi"}),a.jsx(q.Z,{className:"h-4 w-4 text-primary"})]}),a.jsx(r.aY,{children:a.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:e.transactionCount})})]})]}),s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:a.jsx(r.ll,{children:"Trend Saldo Bulanan"})}),a.jsx(r.aY,{children:a.jsx(_,{data:s.monthly.map(e=>({month:e.month,balance:e.balance}))})})]}),(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:a.jsx(r.ll,{children:"Pemasukan vs Pengeluaran"})}),a.jsx(r.aY,{children:a.jsx(k,{data:s.monthly.map(e=>({month:e.month,income:e.income,expense:e.expense}))})})]})]}),(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:a.jsx(r.ll,{children:"Grafik Saldo Kumulatif"})}),a.jsx(r.aY,{children:a.jsx(b,{data:s.monthly.map(e=>({month:e.month,balance:e.balance}))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:a.jsx(r.ll,{children:"Distribusi Kategori (Pie Chart)"})}),a.jsx(r.aY,{children:a.jsx(S,{data:s.categories})})]}),(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:a.jsx(r.ll,{children:"Distribusi Kategori (Donut Chart)"})}),a.jsx(r.aY,{children:a.jsx(G,{data:s.categories})})]})]})]})]})})]})})}},54165:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>o});var a=s(17536);let l=(0,a.createProxy)(String.raw`/Users/hanif/Desktop/Project/Portofolio/Dashboard/finance-dashboard/app/page.tsx`),{__esModule:r,$$typeof:n}=l,i=l.default,o=i}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[959,281,652,769,798,749,620,259,40,589,874],()=>s(81053));module.exports=a})();